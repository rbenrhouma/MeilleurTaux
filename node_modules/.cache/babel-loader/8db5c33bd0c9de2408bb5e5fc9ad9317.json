{"ast":null,"code":"var _jsxFileName = \"/Users/ridha/LeReacteurJs/Certificat/MeilleurTaux-2/src/components/TheEnd.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Cookies from \"js-cookie\";\nimport axios from \"axios\";\nimport \"./style.css\"; // devis.typeBien\n// devis.etatBien\n// devis.usageBien\n// devis.situationUser\n// devis.country\n// devis.zipCode\n// devis.montant\n// devis.travaux\n// devis.notaire\n// devis.total\n// devis.email\n\nconst TheEnd = props => {\n  const {\n    devis,\n    setDevis\n  } = props.context.context;\n  const [devierNum, setDevierNum] = useState(\"\");\n  const serverURL = \"https://localhost:5000/\"; //const serverURL = \"https://meilleurtauxapi.herokuapp.com/\";\n\n  Cookies.remove(\"devis\");\n  Cookies.remove(\"route\");\n  Cookies.remove(\"page\");\n  console.log(devis);\n\n  const saveData = async () => {\n    if (devis.typeBien && devis.usageBien && devis.email && devis.total !== undefined) {\n      try {\n        const response = await axios.post(serverURL + \"devis/save\", {\n          // goodType: devis.typeBien,\n          // usageBien: devis.usageBien,\n          // email: devis.email,\n          // total: devis.total\n          typeBien: devis.typeBien,\n          etatBien: devis.etatBien,\n          usageBien: devis.usageBien,\n          situationUser: devis.situationUser,\n          typeBienLib: devis.typeBienLib,\n          etatBienLib: devis.etatBienLib,\n          usageBienLib: devis.usageBienLib,\n          situationUserLib: devis.situationUserLib,\n          country: devis.country,\n          zipCode: devis.zipCode,\n          montant: devis.montant,\n          travaux: devis.travaux,\n          notaire: devis.notaire,\n          total: devis.total,\n          email: devis.email\n        });\n        setDevierNum(response.data.key);\n        Cookies.remove(\"devis\");\n        Cookies.remove(\"route\");\n        Cookies.remove(\"page\");\n        setDevis({});\n      } catch (err) {\n        alert(err.message);\n        console.log(err);\n      }\n    } else {\n      alert(\"erreur\");\n    }\n  };\n\n  useEffect(() => {\n    saveData();\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"theEndBody\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, \"Votre num\\xE9ro de dossier est le : \"), React.createElement(\"p\", {\n    className: \"textBold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, `  ${devierNum}`));\n};\n\nexport default TheEnd; // key: generator.generate({\n//   length: 8,\n//   numbers: true,\n//   uppercase: false,\n//   exclude: \"abcdefghijklmnopqrstuvwxyz\"\n// }),\n// typeBien: devis.typeBien,\n// etatBien: devis.etatBien,\n// usageBien: devis.usageBien,\n// situationUser: devis.situationUser,\n// typeBienLib: devis.typeBienLib,\n// etatBienLib: devis.etatBienLib,\n// usageBienLib: devis.usageBienLib,\n// situationUserLib: devis.situationUserLib,\n// country: devis.country,\n// zipCode: devis.zipCode,\n// montant: devis.montant,\n// travaux: devis.travaux,\n// notaire: devis.notaire,\n// total: devis.total,\n// email: devis.email","map":{"version":3,"sources":["/Users/ridha/LeReacteurJs/Certificat/MeilleurTaux-2/src/components/TheEnd.js"],"names":["React","useState","useEffect","Cookies","axios","TheEnd","props","devis","setDevis","context","devierNum","setDevierNum","serverURL","remove","console","log","saveData","typeBien","usageBien","email","total","undefined","response","post","etatBien","situationUser","typeBienLib","etatBienLib","usageBienLib","situationUserLib","country","zipCode","montant","travaux","notaire","data","key","err","alert","message"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Cookies from \"js-cookie\";\nimport axios from \"axios\";\nimport \"./style.css\";\n\n// devis.typeBien\n// devis.etatBien\n// devis.usageBien\n// devis.situationUser\n// devis.country\n// devis.zipCode\n// devis.montant\n// devis.travaux\n// devis.notaire\n// devis.total\n// devis.email\n\nconst TheEnd = props => {\n  const { devis, setDevis } = props.context.context;\n  const [devierNum, setDevierNum] = useState(\"\");\n  const serverURL = \"https://localhost:5000/\";\n  //const serverURL = \"https://meilleurtauxapi.herokuapp.com/\";\n\n  Cookies.remove(\"devis\");\n  Cookies.remove(\"route\");\n  Cookies.remove(\"page\");\n\n  console.log(devis);\n  const saveData = async () => {\n    if (\n      devis.typeBien &&\n      devis.usageBien &&\n      devis.email &&\n      devis.total !== undefined\n    ) {\n      try {\n        const response = await axios.post(serverURL + \"devis/save\", {\n          // goodType: devis.typeBien,\n          // usageBien: devis.usageBien,\n          // email: devis.email,\n          // total: devis.total\n\n          typeBien: devis.typeBien,\n          etatBien: devis.etatBien,\n          usageBien: devis.usageBien,\n          situationUser: devis.situationUser,\n          typeBienLib: devis.typeBienLib,\n          etatBienLib: devis.etatBienLib,\n          usageBienLib: devis.usageBienLib,\n          situationUserLib: devis.situationUserLib,\n          country: devis.country,\n          zipCode: devis.zipCode,\n          montant: devis.montant,\n          travaux: devis.travaux,\n          notaire: devis.notaire,\n          total: devis.total,\n          email: devis.email\n        });\n        setDevierNum(response.data.key);\n\n        Cookies.remove(\"devis\");\n        Cookies.remove(\"route\");\n        Cookies.remove(\"page\");\n        setDevis({});\n      } catch (err) {\n        alert(err.message);\n        console.log(err);\n      }\n    } else {\n      alert(\"erreur\");\n    }\n  };\n\n  useEffect(() => {\n    saveData();\n  }, []);\n\n  return (\n    <div className=\"theEndBody\">\n      <p>Votre num√©ro de dossier est le : </p>\n      <p className=\"textBold\">{`  ${devierNum}`}</p>\n    </div>\n  );\n};\nexport default TheEnd;\n\n// key: generator.generate({\n//   length: 8,\n//   numbers: true,\n//   uppercase: false,\n//   exclude: \"abcdefghijklmnopqrstuvwxyz\"\n// }),\n// typeBien: devis.typeBien,\n// etatBien: devis.etatBien,\n// usageBien: devis.usageBien,\n// situationUser: devis.situationUser,\n// typeBienLib: devis.typeBienLib,\n// etatBienLib: devis.etatBienLib,\n// usageBienLib: devis.usageBienLib,\n// situationUserLib: devis.situationUserLib,\n// country: devis.country,\n// zipCode: devis.zipCode,\n// montant: devis.montant,\n// travaux: devis.travaux,\n// notaire: devis.notaire,\n// total: devis.total,\n// email: devis.email\n"]},"metadata":{},"sourceType":"module"}