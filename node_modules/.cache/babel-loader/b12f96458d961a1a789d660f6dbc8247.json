{"ast":null,"code":"var _jsxFileName = \"/Users/ridha/LeReacteurJs/Certificat/MeilleurTaux-2/src/components/TheEnd.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Cookies from \"js-cookie\";\nimport axios from \"axios\";\nimport \"./style.css\"; // devis.typeBien\n// devis.etatBien\n// devis.usageBien\n// devis.situationUser\n// devis.country\n// devis.zipCode\n// devis.montant\n// devis.travaux\n// devis.notaire\n// devis.total\n// devis.email\n\nconst TheEnd = props => {\n  const {\n    devis,\n    setDevis\n  } = props.context.context;\n  const [devierNum, setDevierNum] = useState(\"\");\n  const serverURL = \"https://localhost:5000/\"; //const serverURL = \"https://meilleurtauxapi.herokuapp.com/\";\n\n  Cookies.remove(\"devis\");\n  Cookies.remove(\"route\");\n  Cookies.remove(\"page\");\n  console.log(devis);\n\n  const saveData = async () => {\n    if (devis.typeBien && devis.usageBien && devis.email && devis.total !== undefined) {\n      try {\n        const response = await axios.post(serverURL + \"devis/save\", {\n          goodType: devis.typeBien,\n          usageBien: devis.usageBien,\n          email: devis.email,\n          total: devis.total\n        });\n        setDevierNum(response.data.numDevis);\n        console.log(\"3\");\n        console.log(response.data.numDevis);\n        Cookies.remove(\"devis\");\n        Cookies.remove(\"route\");\n        Cookies.remove(\"page\");\n        setDevis({});\n      } catch (err) {\n        alert(err.message);\n        console.log(err);\n      }\n    } else {\n      alert(\"erreur\");\n    }\n  };\n\n  useEffect(() => {\n    saveData();\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"theEndBody\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, \"Votre num\\xE9ro de dossier est le : \"), React.createElement(\"p\", {\n    className: \"textBold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, `  ${devierNum}`));\n};\n\nexport default TheEnd;","map":{"version":3,"sources":["/Users/ridha/LeReacteurJs/Certificat/MeilleurTaux-2/src/components/TheEnd.js"],"names":["React","useState","useEffect","Cookies","axios","TheEnd","props","devis","setDevis","context","devierNum","setDevierNum","serverURL","remove","console","log","saveData","typeBien","usageBien","email","total","undefined","response","post","goodType","data","numDevis","err","alert","message"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,aAAP,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,MAAM,GAAGC,KAAK,IAAI;AACtB,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAsBF,KAAK,CAACG,OAAN,CAAcA,OAA1C;AACA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BV,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAMW,SAAS,GAAG,yBAAlB,CAHsB,CAItB;;AAEAT,EAAAA,OAAO,CAACU,MAAR,CAAe,OAAf;AACAV,EAAAA,OAAO,CAACU,MAAR,CAAe,OAAf;AACAV,EAAAA,OAAO,CAACU,MAAR,CAAe,MAAf;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAYR,KAAZ;;AACA,QAAMS,QAAQ,GAAG,YAAY;AAC3B,QACET,KAAK,CAACU,QAAN,IACAV,KAAK,CAACW,SADN,IAEAX,KAAK,CAACY,KAFN,IAGAZ,KAAK,CAACa,KAAN,KAAgBC,SAJlB,EAKE;AACA,UAAI;AACF,cAAMC,QAAQ,GAAG,MAAMlB,KAAK,CAACmB,IAAN,CAAWX,SAAS,GAAG,YAAvB,EAAqC;AAC1DY,UAAAA,QAAQ,EAAEjB,KAAK,CAACU,QAD0C;AAE1DC,UAAAA,SAAS,EAAEX,KAAK,CAACW,SAFyC;AAG1DC,UAAAA,KAAK,EAAEZ,KAAK,CAACY,KAH6C;AAI1DC,UAAAA,KAAK,EAAEb,KAAK,CAACa;AAJ6C,SAArC,CAAvB;AAMAT,QAAAA,YAAY,CAACW,QAAQ,CAACG,IAAT,CAAcC,QAAf,CAAZ;AACAZ,QAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYO,QAAQ,CAACG,IAAT,CAAcC,QAA1B;AAEAvB,QAAAA,OAAO,CAACU,MAAR,CAAe,OAAf;AACAV,QAAAA,OAAO,CAACU,MAAR,CAAe,OAAf;AACAV,QAAAA,OAAO,CAACU,MAAR,CAAe,MAAf;AACAL,QAAAA,QAAQ,CAAC,EAAD,CAAR;AACD,OAfD,CAeE,OAAOmB,GAAP,EAAY;AACZC,QAAAA,KAAK,CAACD,GAAG,CAACE,OAAL,CAAL;AACAf,QAAAA,OAAO,CAACC,GAAR,CAAYY,GAAZ;AACD;AACF,KAzBD,MAyBO;AACLC,MAAAA,KAAK,CAAC,QAAD,CAAL;AACD;AACF,GA7BD;;AA+BA1B,EAAAA,SAAS,CAAC,MAAM;AACdc,IAAAA,QAAQ;AACT,GAFQ,EAEN,EAFM,CAAT;AAIA,SACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CADF,EAEE;AAAG,IAAA,SAAS,EAAC,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0B,KAAIN,SAAU,EAAxC,CAFF,CADF;AAMD,CApDD;;AAqDA,eAAeL,MAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Cookies from \"js-cookie\";\nimport axios from \"axios\";\nimport \"./style.css\";\n\n// devis.typeBien\n// devis.etatBien\n// devis.usageBien\n// devis.situationUser\n// devis.country\n// devis.zipCode\n// devis.montant\n// devis.travaux\n// devis.notaire\n// devis.total\n// devis.email\n\nconst TheEnd = props => {\n  const { devis, setDevis } = props.context.context;\n  const [devierNum, setDevierNum] = useState(\"\");\n  const serverURL = \"https://localhost:5000/\";\n  //const serverURL = \"https://meilleurtauxapi.herokuapp.com/\";\n\n  Cookies.remove(\"devis\");\n  Cookies.remove(\"route\");\n  Cookies.remove(\"page\");\n\n  console.log(devis);\n  const saveData = async () => {\n    if (\n      devis.typeBien &&\n      devis.usageBien &&\n      devis.email &&\n      devis.total !== undefined\n    ) {\n      try {\n        const response = await axios.post(serverURL + \"devis/save\", {\n          goodType: devis.typeBien,\n          usageBien: devis.usageBien,\n          email: devis.email,\n          total: devis.total\n        });\n        setDevierNum(response.data.numDevis);\n        console.log(\"3\");\n        console.log(response.data.numDevis);\n\n        Cookies.remove(\"devis\");\n        Cookies.remove(\"route\");\n        Cookies.remove(\"page\");\n        setDevis({});\n      } catch (err) {\n        alert(err.message);\n        console.log(err);\n      }\n    } else {\n      alert(\"erreur\");\n    }\n  };\n\n  useEffect(() => {\n    saveData();\n  }, []);\n\n  return (\n    <div className=\"theEndBody\">\n      <p>Votre num√©ro de dossier est le : </p>\n      <p className=\"textBold\">{`  ${devierNum}`}</p>\n    </div>\n  );\n};\nexport default TheEnd;\n"]},"metadata":{},"sourceType":"module"}